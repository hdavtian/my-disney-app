@import "../../styles/variables.scss";
@import "../../styles/mixins.scss";

// MOVIE CARD: Rectangle cards (4/3 aspect ratio) matching home page MovieSlider
.movie-card {
    flex: 0 0 auto;
    width: 100%;
    padding: 0;
    position: relative;

    &__link {
        display: block;
        text-decoration: none;
        color: inherit;
        cursor: pointer;
        position: relative;
        outline: none; // Remove blue focus outline

        &:hover {
            text-decoration: none;
        }

        &:focus {
            outline: none; // Remove focus outline on click
        }

        &:focus-visible {
            outline: 2px solid var(--disney-gold); // Add visible focus for accessibility (keyboard navigation)
            outline-offset: 2px;
        }
    }

    &__image {
        position: relative;
        width: 100%;
        aspect-ratio: 4/3; // Rectangle - wider than tall
        border-radius: var(--radius-lg);
        overflow: hidden;
        background: var(--gray-800);
        transition: box-shadow 0.5s ease;

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
    }

    &:hover &__image {
        box-shadow: 0 0 15px 2px var(--disney-gold); // Gold glow exactly like home page
    }

    &:hover &__image img {
        transform: scale(1.15);
    }

    &__favorite {
        position: absolute;
        right: var(--space-2);
        bottom: calc(var(--space-10) + var(--space-2));
        z-index: 10;
        padding: 0.25rem;
        display: flex;
        align-items: center;
        background: none;
    }

    &__info {
        padding: var(--space-3) var(--space-2);
    }

    &__title {
        color: var(--white);
        font-size: var(--text-sm);
        font-weight: var(--font-semibold);
        margin-bottom: var(--space-1);
        text-decoration: none;
        @include text-truncate; // Use mixin like home page

        @include tablet-up {
            font-size: var(--text-base);
        }
    }

    &__meta {
        @include flex-between; // Use mixin like home page
        font-size: var(--text-xs);
        color: var(--gray-300);

        @include tablet-up {
            font-size: var(--text-sm);
        }
    }

    &__year {
        opacity: 0.8;
    }

    &__rating {
        background: var(--gray-600);
        padding: 2px var(--space-1);
        border-radius: var(--radius-sm);
        font-weight: var(--font-medium);
    }

    // SKELETON LOADING STATES
    &__skeleton {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1;
    }

    .skeleton {
        background: linear-gradient(90deg,
                var(--gray-800) 0%,
                var(--gray-700) 50%,
                var(--gray-800) 100%);
        background-size: 200% 100%;
        animation: skeleton-loading 1.5s ease-in-out infinite;
        border-radius: var(--border-radius);

        &--image {
            width: 100%;
            height: 100%;
            border-radius: var(--radius-lg);
        }

        &--title {
            height: 16px;
            width: 90%;
            margin-bottom: var(--space-2);
            border-radius: var(--border-radius);

            @include tablet-up {
                height: 18px;
            }
        }

        &--meta {
            height: 12px;
            width: 60%;
            border-radius: var(--border-radius);

            @include tablet-up {
                height: 14px;
            }
        }
    }

    @keyframes skeleton-loading {
        0% {
            background-position: 200% 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
}